const pokemonRepository=function(){let e=[];return getAll=()=>e,add=t=>{if("object"==typeof t&&"name"in t)return e.push(t)},addListItem=e=>{let t=document.querySelector(".pokemon-list"),o=document.createElement("li"),a=document.createElement("button");o.classList.add("group-list-item","row","justify-content-center","mt-2","mx-2"),a.innerText=e.name[0].toUpperCase()+e.name.slice(1),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#pokemon-modal"),a.classList.add("btn","btn-outline-secondary","col-12","col-sm-9","col-lg-6","shadow"),a.addEventListener("click",t=>{showDetails(e)}),o.appendChild(a),t.appendChild(o)},loadList=()=>(showLoadingMessage(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{hideLoadingMessage(),e.results.forEach(e=>{let t={name:e.name,detailsUrl:e.url};add(t),console.log(t)})}).catch(e=>{hideLoadingMessage(),console.error(e)})),loadDetails=e=>{showLoadingMessage();let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{hideLoadingMessage(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=[];for(var o=0;o<t.types.length;o++)e.types.push(" "+t.types[o].type.name)}).catch(e=>{hideLoadingMessage(),console.error(e)})},showDetails=e=>{pokemonRepository.loadDetails(e).then(()=>{showModal(e),console.log(e)})},showLoadingMessage=()=>{let e=document.querySelector(".loader"),t=document.createElement("div");e.innerText="Loading...",e.classList.remove("hide"),e.appendChild(t)},hideLoadingMessage=()=>{let e=document.querySelector(".loader");e.classList.add("hide")},showModal=e=>{let t=$(".modal-body"),o=$(".modal-title");o.empty(),t.empty();let a=$("<h1>"+e.name[0].toUpperCase()+e.name.slice(1)+"</h1>"),l=$('<img class="pokemon-img">');l.attr("src",e.imageUrl);let n=$("<p>Height: "+e.height+"</p>"),s=$("<p>Type(s): "+e.types+"</p>");o.append(a),t.append(l),t.append(n),t.append(s)},{getAll,add,addListItem,loadList,loadDetails,showDetails,showModal}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});
